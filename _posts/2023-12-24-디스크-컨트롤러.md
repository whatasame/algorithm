---
layout: post
title: |
    ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬
date: 2023-12-24T20:33:00.000Z
categories: [Heap]
tags: [Programmers]
---


## ğŸ“‹Â ë¬¸ì œ ì •ë³´

- ë¬¸ì œ ì¶œì²˜: [https://school.programmers.co.kr/learn/courses/30/lessons/42627](https://school.programmers.co.kr/learn/courses/30/lessons/42627)
- ë¬¸ì œ ìœ í˜•: í™
- ì†Œìš” ì‹œê°„: 1ì‹œê°„

### ë¬¸ì œ ìš”ì•½


ì‘ë‹µì‹œê°„ì˜ í‰ê· ì´ ê°€ì¥ ì‘ì„ ë•Œ í‰ê· ì„ ì†Œìˆ˜ì ì„ ë²„ë ¤ì„œ ë°˜í™˜


## ğŸ¤”Â ì•„ì´ë””ì–´


### í•µì‹¬ ì•Œê³ ë¦¬ì¦˜


í˜„ì¬ ì‹œê°„ì— ë“¤ì–´ì˜¨ ìš”ì²­ì´ ìˆë‹¤ë©´ ëª¨ë‘ ìµœì†Œí™ì— ì €ì¥í•œë‹¤. ì´ë•Œ, ìµœì†Œí™ì˜ ê¸°ì¤€ì€ ì†Œìš”ì‹œê°„ì´ë‹¤. ì†Œìš” ì‹œê°„ì´ ê°€ì¥ ì§§ì€ ìš”ì²­ë¶€í„° ì²˜ë¦¬í•´ì•¼ í›„ë³´ì˜ ìˆ˜ë¥¼ ìµœëŒ€í•œ ì¤„ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.


í˜„ì¬ í™ì— í›„ë³´ê°€ 5ê°œ ìˆì„ ê²½ìš° ë‹¨ìˆœíˆ ê³„ì‚°í•˜ë©´ 1ì´ˆë‹¹ ì‘ë‹µ ì‹œê°„ì´ 5ì´ˆì”© ëŠ˜ì–´ë‚œë‹¤. ë”°ë¼ì„œ í›„ë³´ì˜ ìˆ˜ë¥¼ ë¹ ë¥´ê²Œ ì¤„ì¼ ìˆ˜ ìˆë„ë¡ ì†Œìš”ì‹œê°„ì´ ì§§ì€ ìš”ì²­ë¶€í„° ì²˜ë¦¬í•œë‹¤.


### ì˜ì‚¬ ì½”ë“œ


```text
# jobsë¥¼ ì‹œì‘ ì‹œê°„ ìˆœìœ¼ë¡œ ì •ë ¬

# jobs í˜¹ì€ heapì„ ëª¨ë‘ ì†Œëª¨í•  ë•Œê¹Œì§€
    # í˜„ì¬ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìš”ì²­ ëª¨ë‘ í™ì— ë„£ê¸°
    # í™ì´ ë¹„ì–´ìˆë‹¤ë©´ 1ì´ˆ ì§¸ê¹
    # í™ ì†Œëª¨
        # í˜„ì¬ ì‹œê°„ ê°±ì‹ 
        # ì‘ë‹µ ì‹œê°„ ê°±ì‹ 
```


### ì‹œê°„ ë³µì¡ë„


ë‹¨ê³„ë³„ ì‹œê°„ ë³µì¡ë„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

- `jobs` ì •ë ¬: $O(nlogn)$
- ì „ë¶€ ì†Œëª¨: $O(n)$
	- í˜„ì¬ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìš”ì²­ ëª¨ë‘ í™ì— ë„£ê¸°: $O(k)$

		> $k$: `jobs`ì— ë‚¨ì•„ìˆëŠ” $n$ì˜ ìˆ˜

	- 1ì´ˆ ì§¸ê¹: $O(1)$
	- í™ ì†Œëª¨: $O(log(n-k))$

ë”°ë¼ì„œ ì „ì²´ ì‹œê°„ ë³µì¡ë„ëŠ” $O(nlogn)$ì´ë‹¤.


## ğŸ–¨ï¸Â ì…ì¶œë ¥ ë¶„ì„


### ì‹œê°„ ë³µì¡ë„ ë¶„ì„

- ì‚¬ì‹¤ $n$ì´ 500ì´í•˜ì´ë¯€ë¡œ í™ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì‹œê°„ ë³µì¡ë„ê°€ ë” í° í’€ì´ë„ ê°€ëŠ¥í•˜ë‹¤.

### ì¶”ê°€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤


```text
[[2, 7]]
-> 7
```


```text
[[0, 1], [0, 3], [0, 5]]
-> (1 + 4 + 9 = 14) / 3 = 4
```


```text
[[1, 3], [11, 33], [50, 5]]
-> (3 + 33 + 5 = 41) / 3 = 13
```


```text
[[1, 9], [2, 5], [3, 4]]
-> (9 + 17 + 11 = 37) / 3 = 12
```


## ğŸ’­Â ìƒê° ì •ë¦¬


### í™ì„ í•˜ë‚˜ë§Œ ì†Œëª¨í•´ì•¼í•œë‹¤


ì²˜ìŒì— ì§  ì½”ë“œëŠ” í•œ ë²ˆì˜ whileë¬¸ì—ì„œ ëª¨ë“  í™ì„ ì†Œëª¨í–ˆë‹¤. ê·¸ëŸ¬ë‚˜, í•œ ë²ˆì— í•˜ë‚˜ë§Œ ì†Œëª¨í•´ì•¼í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 7ì´ˆì— ë‹¤ìŒê³¼ ê°™ì€ ìš”ì²­ì´ í™ì— ìˆë‹¤ê³  ê°€ì •í•˜ì.


```text
[[7, 10], [7, 20]]
```


ì´ë•Œ [8, 1]ì´ë¼ëŠ” ìš”ì²­ì´ ìˆë‹¤ë©´ ì–´ë–¨ê¹Œ? í•œ ë²ˆì— ëª¨ë‘ ì†Œëª¨í•œ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤.


```text
[7, 10] -> [7, 20] -> [8, 1]
```


ì˜ì‚¬ ì½”ë“œì—ì„œ ì˜ë„í•œ ëŒ€ë¡œë¼ë©´ ê°€ì¥ ì§§ì€ ìš”ì²­ë¶€í„° ì²˜ë¦¬í•´ì•¼í•˜ëŠ”ë° ê·¸ë ‡ì§€ ëª»í•˜ë‹¤. ë”°ë¼ì„œ, í•œ ë²ˆì— í•˜ë‚˜ì”© ì†Œëª¨í•œ í›„ í™ì„ ì—…ë°ì´íŠ¸í•´ì•¼í•œë‹¤.


## ğŸ“„Â ì†ŒìŠ¤ ì½”ë“œ


```python
from heapq import *

def solution(jobs):
    n = len(jobs)
    
    # jobsë¥¼ ì‹œì‘ ì‹œê°„ ìˆœìœ¼ë¡œ ì •ë ¬
    heapify(jobs)    
    
    heap = []
    now, res = 0, 0
    # jobs í˜¹ì€ heapì„ ëª¨ë‘ ì†Œëª¨í•  ë•Œê¹Œì§€
    while jobs or heap:
        # í˜„ì¬ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìš”ì²­ ëª¨ë‘ í™ì— ë„£ê¸°
        for req, time in find_targets(jobs, now):
            heappush(heap, (time ,req))
            
        # í™ì´ ë¹„ì–´ìˆë‹¤ë©´ 1ì´ˆ ì§¸ê¹
        if not heap:
            now += 1
            
        # í™ ì†Œëª¨
        if heap:
            time, req = heappop(heap)
            
            # í˜„ì¬ ì‹œê°„ ê°±ì‹ 
            now += time
            
            # ì‘ë‹µ ì‹œê°„ ê°±ì‹ 
            res += now - req
    
    return res // n

def find_targets(jobs, time):
    if not jobs:
        return []
    
    targets = []
    while jobs:
        if jobs[0][0] > time:
            break
        targets.append(heappop(jobs))
        
    return targets
```

